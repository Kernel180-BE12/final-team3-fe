# p02_ê¸°ìˆ ì•„í‚¤í…ì²˜_ìƒì„¸

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”

**AI ì•Œë¦¼í†¡ ìƒì„±ê¸°**ëŠ” í˜„ëŒ€ì ì¸ **JAMstack ì•„í‚¤í…ì²˜**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ëœ **React SPA(Single Page Application)**ì…ë‹ˆë‹¤. ë†’ì€ ì„±ëŠ¥, í™•ì¥ì„±, ê·¸ë¦¬ê³  ê°œë°œì ê²½í—˜ì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•˜ì—¬ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ“‹ ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸ ë¶„ì„

### Frontend Core Technologies

#### React 19 - UI ë¼ì´ë¸ŒëŸ¬ë¦¬
```javascript
// ìµœì‹  React 19 ê¸°ëŠ¥ í™œìš©
import { useState, useEffect, useTransition } from 'react';

// Concurrent Features í™œìš©
const [isPending, startTransition] = useTransition();

// ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ Suspense í™œìš©
<Suspense fallback={<Loading />}>
  <LazyComponent />
</Suspense>
```

**ì„ íƒ ì´ìœ **:
- **Concurrent Rendering**: ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ì¤‘ ëŠê¹€ ì—†ëŠ” UI ì—…ë°ì´íŠ¸
- **Automatic Batching**: ì—¬ëŸ¬ ìƒíƒœ ì—…ë°ì´íŠ¸ì˜ ìë™ ë°°ì¹˜ ì²˜ë¦¬
- **Improved SSR**: í–¥í›„ Next.js ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ í˜¸í™˜ì„± í™•ë³´
- **Strict Mode**: ê°œë°œ ê³¼ì •ì—ì„œ ë¶€ìˆ˜ íš¨ê³¼ ì¡°ê¸° ë°œê²¬

#### Vite 7.1.2 - ë¹Œë“œ ë„êµ¬
```javascript
// vite.config.js
export default defineConfig({
  plugins: [
    react(),
    tailwindcss(),
  ],
  resolve: {
    alias: {
      '@': resolve('src')  // ì ˆëŒ€ ê²½ë¡œ ì„¤ì •
    }
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          router: ['react-router-dom'],
          ui: ['lucide-react']
        }
      }
    }
  }
})
```

**í•µì‹¬ ì´ì **:
- **ê·¹ë„ë¡œ ë¹ ë¥¸ HMR**: íŒŒì¼ ë³€ê²½ ì‹œ í‰ê·  50ms ë‚´ ì—…ë°ì´íŠ¸
- **ES Module ê¸°ë°˜**: ë„¤ì´í‹°ë¸Œ ë¸Œë¼ìš°ì € ëª¨ë“ˆ ì‹œìŠ¤í…œ í™œìš©
- **íŠ¸ë¦¬ ì…°ì´í‚¹**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œ ìë™ ì œê±°
- **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**: ë™ì  importë¥¼ í†µí•œ ì§€ì—° ë¡œë”©

#### Tailwind CSS 4.1.12 - ìŠ¤íƒ€ì¼ë§
```css
/* ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ */
@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent;
  }

  .glass-effect {
    @apply bg-white/10 backdrop-blur-md border border-white/20;
  }
}
```

**ì•„í‚¤í…ì²˜ ì´ì **:
- **Atomic CSS**: ìœ í‹¸ë¦¬í‹° ìš°ì„  ë°©ì‹ìœ¼ë¡œ ì¼ê´€ì„± í™•ë³´
- **JIT ì»´íŒŒì¼**: ì‚¬ìš©ëœ í´ë˜ìŠ¤ë§Œ ì»´íŒŒì¼í•˜ì—¬ CSS í¬ê¸° ìµœì†Œí™”
- **ë””ìì¸ ì‹œìŠ¤í…œ**: ì²´ê³„ì ì¸ ìŠ¤í˜ì´ì‹±, ì»¬ëŸ¬, íƒ€ì´í¬ê·¸ë˜í”¼ ê´€ë¦¬
- **ë°˜ì‘í˜• ì„¤ê³„**: ëª¨ë°”ì¼ ìš°ì„  ì ‘ê·¼ ë°©ì‹

### State Management & Data Flow

#### Zustand 5.0.8 - ê¸€ë¡œë²Œ ìƒíƒœ ê´€ë¦¬
```javascript
// stores/authStore.js
import { create } from 'zustand'
import { persist } from 'zustand/middleware'

export const useAuthStore = create(
  persist(
    (set, get) => ({
      user: null,
      token: null,
      isAuthenticated: false,

      login: (userData, authToken) => set({
        user: userData,
        token: authToken,
        isAuthenticated: true
      }),

      logout: () => set({
        user: null,
        token: null,
        isAuthenticated: false
      })
    }),
    {
      name: 'auth-storage',
      partialize: (state) => ({
        token: state.token,
        user: state.user
      })
    }
  )
)
```

**ì„¤ê³„ ì² í•™**:
- **ë‹¨ìˆœì„±**: Redux ëŒ€ë¹„ 90% ì ì€ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸
- **TypeScript ì¹œí™”ì **: ì™„ë²½í•œ íƒ€ì… ì¶”ë¡  ì§€ì›
- **ë¯¸ë“¤ì›¨ì–´ í™•ì¥ì„±**: persist, devtools ë“± í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ì„ íƒì  ì ìš©
- **ì„±ëŠ¥ ìµœì í™”**: ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€

#### Local Storage ê¸°ë°˜ ì±„íŒ… íˆìŠ¤í† ë¦¬
```javascript
// utils/chatHistoryStorage.js
class ChatHistoryStorage {
  constructor() {
    this.storageKey = 'chat_sessions';
    this.maxSessions = 10;
  }

  save(chatSession) {
    // ì˜ë¯¸ìˆëŠ” ëŒ€í™”ë§Œ ì €ì¥ (ì‚¬ìš©ì ë©”ì‹œì§€ í¬í•¨)
    const hasUserMessage = chatSession.messages.some(msg => msg.type === 'user');
    if (!hasUserMessage) return null;

    const sessions = this.load();
    const updatedSessions = [chatSession, ...sessions]
      .slice(0, this.maxSessions);

    localStorage.setItem(this.storageKey, JSON.stringify(updatedSessions));
    return chatSession;
  }

  search(query) {
    const sessions = this.load();
    return sessions.filter(session =>
      session.title.toLowerCase().includes(query.toLowerCase()) ||
      session.preview.toLowerCase().includes(query.toLowerCase())
    );
  }
}
```

**ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­**:
- **ìš©ëŸ‰ ì œí•œ ê´€ë¦¬**: ìµœëŒ€ 10ê°œ ì„¸ì…˜ìœ¼ë¡œ ì œí•œ
- **ë°ì´í„° ë¬´ê²°ì„±**: JSON íŒŒì‹± ì˜¤ë¥˜ ì²˜ë¦¬
- **ì„±ëŠ¥ ìµœì í™”**: ê²€ìƒ‰ ì‹œ ì¸ë±ì‹± í™œìš©
- **ì‚¬ìš©ì ê²½í—˜**: ì˜¤í”„ë¼ì¸ì—ì„œë„ ê¸°ë¡ ìœ ì§€

### Routing & Navigation

#### React Router DOM 7.8.2
```javascript
// App.jsx - ë¼ìš°íŒ… êµ¬ì¡°
import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        {/* Public Routes */}
        <Route path="/" element={<LandingPage />} />
        <Route path="/login" element={<LoginPage />} />
        <Route path="/signup" element={<SignupPage />} />

        {/* Protected Routes */}
        <Route path="/dashboard" element={
          <ProtectedRoute>
            <DashboardPage />
          </ProtectedRoute>
        } />
        <Route path="/create" element={
          <ProtectedRoute>
            <GeneratorPageV3 />
          </ProtectedRoute>
        } />

        {/* Fallback */}
        <Route path="*" element={<NotFoundPage />} />
      </Routes>
    </BrowserRouter>
  );
}
```

**ë¼ìš°íŒ… ì „ëµ**:
- **Code Splitting**: React.lazy()ë¥¼ í†µí•œ í˜ì´ì§€ë³„ ì§€ì—° ë¡œë”©
- **Route Guards**: ProtectedRoute HOCë¥¼ í†µí•œ ì¸ì¦ ê²€ì‚¬
- **SEO ìµœì í™”**: ë©”íƒ€ íƒœê·¸ ë™ì  ê´€ë¦¬
- **History API**: SPA ë„¤ì´í‹°ë¸Œ ë„¤ë¹„ê²Œì´ì…˜

---

## ğŸ›ï¸ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜

### ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°

```
src/
â”œâ”€â”€ pages/                    # ë¼ìš°íŠ¸ ë ˆë²¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ LandingPage.jsx       # ëœë”© í˜ì´ì§€
â”‚   â”œâ”€â”€ GeneratorPageV3.jsx   # ë©”ì¸ AI ìƒì„± í˜ì´ì§€
â”‚   â””â”€â”€ DashboardPage.jsx     # ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ
â”‚
â”œâ”€â”€ components/               # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ layout/               # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ AppSidebar.jsx    # ë„¤ë¹„ê²Œì´ì…˜ ì‚¬ì´ë“œë°”
â”‚   â”œâ”€â”€ chat/                 # ì±„íŒ… ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ ChatHistoryPanel.jsx
â”‚   â”œâ”€â”€ generator/            # í…œí”Œë¦¿ ìƒì„± ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ ChatInput.jsx
â”‚   â”‚   â”œâ”€â”€ ChatMessage.jsx
â”‚   â”‚   â””â”€â”€ MainChatLayout.jsx
â”‚   â””â”€â”€ ui/                   # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ Button.jsx
â”‚       â”œâ”€â”€ Input.jsx
â”‚       â””â”€â”€ Modal.jsx
â”‚
â””â”€â”€ hooks/                    # ì»¤ìŠ¤í…€ í›…
    â”œâ”€â”€ useAuth.js            # ì¸ì¦ ê´€ë ¨ ë¡œì§
    â”œâ”€â”€ useChatHistory.js     # ì±„íŒ… ê¸°ë¡ ê´€ë¦¬
    â””â”€â”€ useApi.js             # API í˜¸ì¶œ ê´€ë¦¬
```

### ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì›ì¹™

#### 1. Single Responsibility Principle
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ: í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ë„ˆë¬´ ë§ì€ ì±…ì„
function ChatPage() {
  // ì±„íŒ… ê´€ë¦¬, API í˜¸ì¶œ, UI ë Œë”ë§, ìƒíƒœ ê´€ë¦¬ ë“± ëª¨ë“  ê²ƒì„ ì²˜ë¦¬
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ì±…ì„ ë¶„ë¦¬
function ChatPage() {
  return (
    <ChatLayout>
      <ChatHistory />
      <ChatInput />
      <ChatMessages />
    </ChatLayout>
  );
}
```

#### 2. Props Interface ìµœì í™”
```typescript
// ëª…í™•í•œ Props íƒ€ì… ì •ì˜
interface ChatMessageProps {
  message: {
    id: string;
    type: 'user' | 'ai';
    content: string;
    timestamp: Date;
  };
  onEdit?: (id: string, newContent: string) => void;
  onDelete?: (id: string) => void;
  isEditable?: boolean;
}

const ChatMessage: React.FC<ChatMessageProps> = ({
  message,
  onEdit,
  onDelete,
  isEditable = false
}) => {
  // ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
};
```

#### 3. ì»¤ìŠ¤í…€ í›…ì„ í†µí•œ ë¡œì§ ë¶„ë¦¬
```javascript
// hooks/useChatHistory.js
export function useChatHistory() {
  const [chatHistory, setChatHistory] = useState([]);
  const [isLoading, setIsLoading] = useState(false);

  const loadHistory = useCallback(async () => {
    setIsLoading(true);
    try {
      const history = chatHistoryStorage.load();
      setChatHistory(history);
    } catch (error) {
      console.error('ì±„íŒ… ê¸°ë¡ ë¡œë“œ ì‹¤íŒ¨:', error);
    } finally {
      setIsLoading(false);
    }
  }, []);

  const searchHistory = useCallback((query) => {
    return chatHistoryStorage.search(query);
  }, []);

  return {
    chatHistory,
    isLoading,
    loadHistory,
    searchHistory
  };
}
```

---

## ğŸ” ë³´ì•ˆ ì•„í‚¤í…ì²˜

### JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ

#### í† í° ê´€ë¦¬ ì „ëµ
```javascript
// utils/tokenManager.js
class TokenManager {
  constructor() {
    this.tokenKey = 'auth_token';
    this.refreshKey = 'refresh_token';
  }

  setTokens(accessToken, refreshToken) {
    // HttpOnly ì¿ í‚¤ ì‚¬ìš© ì‹œ XSS ê³µê²© ë°©ì§€
    document.cookie = `${this.tokenKey}=${accessToken}; HttpOnly; Secure; SameSite=Strict`;
    localStorage.setItem(this.refreshKey, refreshToken);
  }

  getAccessToken() {
    // ì¿ í‚¤ì—ì„œ ì•¡ì„¸ìŠ¤ í† í° ì¶”ì¶œ
    return this.getCookie(this.tokenKey);
  }

  async refreshAccessToken() {
    const refreshToken = localStorage.getItem(this.refreshKey);
    if (!refreshToken) throw new Error('No refresh token');

    try {
      const response = await api.post('/auth/refresh', { refreshToken });
      this.setTokens(response.data.accessToken, response.data.refreshToken);
      return response.data.accessToken;
    } catch (error) {
      this.clearTokens();
      throw error;
    }
  }
}
```

#### API ì¸í„°ì…‰í„°ë¥¼ í†µí•œ ìë™ í† í° ê°±ì‹ 
```javascript
// utils/api.js
import axios from 'axios';

const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL
});

// ìš”ì²­ ì¸í„°ì…‰í„°: ìë™ í† í° ì²¨ë¶€
api.interceptors.request.use((config) => {
  const token = tokenManager.getAccessToken();
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// ì‘ë‹µ ì¸í„°ì…‰í„°: í† í° ë§Œë£Œ ì‹œ ìë™ ê°±ì‹ 
api.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401) {
      try {
        await tokenManager.refreshAccessToken();
        return api.request(error.config);
      } catch (refreshError) {
        // ë¦¬í”„ë ˆì‹œ ì‹¤íŒ¨ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
        window.location.href = '/login';
      }
    }
    return Promise.reject(error);
  }
);
```

### ì…ë ¥ ë°ì´í„° ê²€ì¦ ë° ì‚´ê· 

#### í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ê²€ì¦
```javascript
// utils/validation.js
export const validators = {
  email: (email) => {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  },

  password: (password) => {
    // ìµœì†Œ 8ì, ëŒ€ì†Œë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì í¬í•¨
    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
    return passwordRegex.test(password);
  },

  templateContent: (content) => {
    // XSS ë°©ì§€ë¥¼ ìœ„í•œ HTML íƒœê·¸ ì œê±°
    const sanitized = content.replace(/<[^>]*>/g, '');
    return sanitized.length > 0 && sanitized.length <= 1000;
  }
};

// DOMPurifyë¥¼ ì‚¬ìš©í•œ HTML ì‚´ê· 
import DOMPurify from 'dompurify';

export const sanitizeHTML = (html) => {
  return DOMPurify.sanitize(html, {
    ALLOWED_TAGS: ['b', 'i', 'em', 'strong'],
    ALLOWED_ATTR: []
  });
};
```

---

## ğŸš€ ì„±ëŠ¥ ìµœì í™” ì•„í‚¤í…ì²˜

### ë²ˆë“¤ ìµœì í™” ì „ëµ

#### ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… êµ¬í˜„
```javascript
// ë¼ìš°íŠ¸ ë ˆë²¨ ì§€ì—° ë¡œë”©
import { lazy, Suspense } from 'react';

const GeneratorPageV3 = lazy(() => import('./pages/GeneratorPageV3'));
const DashboardPage = lazy(() => import('./pages/DashboardPage'));
const TemplatesPage = lazy(() => import('./pages/TemplatesPage'));

function App() {
  return (
    <Suspense fallback={<PageSkeleton />}>
      <Routes>
        <Route path="/create" element={<GeneratorPageV3 />} />
        <Route path="/dashboard" element={<DashboardPage />} />
        <Route path="/templates" element={<TemplatesPage />} />
      </Routes>
    </Suspense>
  );
}
```

#### íŠ¸ë¦¬ ì…°ì´í‚¹ ìµœì í™”
```javascript
// âŒ ì „ì²´ ë¼ì´ë¸ŒëŸ¬ë¦¬ import
import * as _ from 'lodash';

// âœ… í•„ìš”í•œ í•¨ìˆ˜ë§Œ import
import { debounce, throttle } from 'lodash';

// âœ… ë” ë‚˜ì€ ë°©ë²•: ê°œë³„ íŒ¨í‚¤ì§€ ì‚¬ìš©
import debounce from 'lodash.debounce';
```

### ë Œë”ë§ ì„±ëŠ¥ ìµœì í™”

#### React.memoì™€ useMemo í™œìš©
```javascript
// ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜
const ChatMessage = React.memo(({ message, onEdit, onDelete }) => {
  // ë©”ì‹œì§€ ë‚´ìš©ì´ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ ë°©ì§€
  const formattedContent = useMemo(() => {
    return formatMessageContent(message.content);
  }, [message.content]);

  const handleEdit = useCallback((newContent) => {
    onEdit(message.id, newContent);
  }, [message.id, onEdit]);

  return (
    <div className="message">
      <div dangerouslySetInnerHTML={{ __html: formattedContent }} />
      <button onClick={handleEdit}>í¸ì§‘</button>
    </div>
  );
}, (prevProps, nextProps) => {
  // ì–•ì€ ë¹„êµë¡œ ë¶ˆí•„ìš”í•œ ë Œë”ë§ ë°©ì§€
  return prevProps.message.id === nextProps.message.id &&
         prevProps.message.content === nextProps.message.content;
});
```

#### ê°€ìƒí™” (Virtualization) êµ¬í˜„
```javascript
// ê¸´ ì±„íŒ… ê¸°ë¡ì„ ìœ„í•œ ê°€ìƒ ìŠ¤í¬ë¡¤
import { FixedSizeList as List } from 'react-window';

const ChatHistoryList = ({ chatHistory }) => {
  const renderChatItem = ({ index, style }) => (
    <div style={style}>
      <ChatHistoryItem chat={chatHistory[index]} />
    </div>
  );

  return (
    <List
      height={400}
      itemCount={chatHistory.length}
      itemSize={80}
      width="100%"
    >
      {renderChatItem}
    </List>
  );
};
```

### ì´ë¯¸ì§€ ë° ì—ì…‹ ìµœì í™”

#### ë°˜ì‘í˜• ì´ë¯¸ì§€ ë¡œë”©
```javascript
// ë°˜ì‘í˜• ì´ë¯¸ì§€ ì»´í¬ë„ŒíŠ¸
const ResponsiveImage = ({ src, alt, className }) => {
  return (
    <picture>
      <source
        media="(min-width: 768px)"
        srcSet={`${src}?w=800&format=webp 1x, ${src}?w=1600&format=webp 2x`}
        type="image/webp"
      />
      <source
        media="(max-width: 767px)"
        srcSet={`${src}?w=400&format=webp 1x, ${src}?w=800&format=webp 2x`}
        type="image/webp"
      />
      <img
        src={`${src}?w=800&format=jpeg`}
        alt={alt}
        className={className}
        loading="lazy"
        decoding="async"
      />
    </picture>
  );
};
```

---

## ğŸŒ ë°°í¬ ë° ì¸í”„ë¼ ì•„í‚¤í…ì²˜

### Vercel ë°°í¬ ìµœì í™”

#### vercel.json ì„¤ì • ìƒì„¸
```json
{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/static-build",
      "config": {
        "distDir": "dist"
      }
    }
  ],
  "rewrites": [
    {
      "source": "/api/:path*",
      "destination": "http://54.116.0.21:8080/api/:path*"
    },
    {
      "source": "/((?!api/).*)",
      "destination": "/index.html"
    }
  ],
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        },
        {
          "key": "X-Frame-Options",
          "value": "DENY"
        },
        {
          "key": "X-XSS-Protection",
          "value": "1; mode=block"
        }
      ]
    }
  ]
}
```

#### í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
```javascript
// .env.production
VITE_API_URL=https://api.production-domain.com
VITE_APP_ENV=production
VITE_ENABLE_ANALYTICS=true
VITE_SENTRY_DSN=https://...

// .env.development
VITE_API_URL=http://54.116.0.21:8080/api
VITE_APP_ENV=development
VITE_DEBUG_MODE=true
VITE_ENABLE_ANALYTICS=false
```

### CDN ë° ìºì‹± ì „ëµ

#### ìŠ¤íƒœí‹± ì—ì…‹ ìºì‹±
```javascript
// vite.config.js - ë¹Œë“œ ìµœì í™”
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        // íŒŒì¼ëª…ì— í•´ì‹œ ì¶”ê°€ë¡œ ìºì‹œ ë¬´íš¨í™”
        entryFileNames: 'assets/[name].[hash].js',
        chunkFileNames: 'assets/[name].[hash].js',
        assetFileNames: 'assets/[name].[hash].[ext]',

        // ì²­í¬ ë¶„í•  ìµœì í™”
        manualChunks: {
          vendor: ['react', 'react-dom'],
          router: ['react-router-dom'],
          ui: ['lucide-react'],
          utils: ['lodash', 'date-fns']
        }
      }
    },

    // ì••ì¶• ìµœì í™”
    minify: 'terser',
    terserOptions: {
      compress: {
        drop_console: true,
        drop_debugger: true
      }
    }
  }
});
```

---

## ğŸ§ª í…ŒìŠ¤íŒ… ì•„í‚¤í…ì²˜

### í…ŒìŠ¤íŠ¸ ì „ëµ ë° êµ¬ì¡°

#### ìœ ë‹› í…ŒìŠ¤íŠ¸ (Jest + Testing Library)
```javascript
// __tests__/components/ChatMessage.test.jsx
import { render, screen, fireEvent } from '@testing-library/react';
import ChatMessage from '../components/chat/ChatMessage';

describe('ChatMessage ì»´í¬ë„ŒíŠ¸', () => {
  const mockMessage = {
    id: '1',
    type: 'user',
    content: 'ì•ˆë…•í•˜ì„¸ìš”',
    timestamp: new Date()
  };

  it('ë©”ì‹œì§€ ë‚´ìš©ì„ ì˜¬ë°”ë¥´ê²Œ ë Œë”ë§í•œë‹¤', () => {
    render(<ChatMessage message={mockMessage} />);
    expect(screen.getByText('ì•ˆë…•í•˜ì„¸ìš”')).toBeInTheDocument();
  });

  it('í¸ì§‘ ë²„íŠ¼ í´ë¦­ ì‹œ onEdit ì½œë°±ì´ í˜¸ì¶œëœë‹¤', () => {
    const mockOnEdit = jest.fn();
    render(<ChatMessage message={mockMessage} onEdit={mockOnEdit} isEditable />);

    fireEvent.click(screen.getByText('í¸ì§‘'));
    expect(mockOnEdit).toHaveBeenCalledWith(mockMessage.id, expect.any(String));
  });
});
```

#### í†µí•© í…ŒìŠ¤íŠ¸ (Cypress)
```javascript
// cypress/integration/chat_flow.spec.js
describe('ì±„íŒ… ê¸°ëŠ¥ í†µí•© í…ŒìŠ¤íŠ¸', () => {
  beforeEach(() => {
    cy.login(); // ì»¤ìŠ¤í…€ ë¡œê·¸ì¸ ëª…ë ¹ì–´
    cy.visit('/create');
  });

  it('ì‚¬ìš©ìê°€ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ê³  AI ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆë‹¤', () => {
    // ë©”ì‹œì§€ ì…ë ¥
    cy.get('[data-testid="chat-input"]')
      .type('ì¹´í˜ ì˜¤í”ˆ ì•Œë¦¼í†¡ í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”');

    cy.get('[data-testid="send-button"]').click();

    // AI ì‘ë‹µ ëŒ€ê¸°
    cy.get('[data-testid="ai-message"]', { timeout: 10000 })
      .should('be.visible');

    // ì±„íŒ… ê¸°ë¡ ì €ì¥ í™•ì¸
    cy.get('[data-testid="chat-history-button"]').hover();
    cy.get('[data-testid="chat-history-panel"]')
      .should('be.visible')
      .and('contain', 'ì¹´í˜ ì˜¤í”ˆ');
  });
});
```

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ê´€ì°°ì„±

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

#### Core Web Vitals ì¶”ì 
```javascript
// utils/performance.js
import { onCLS, onFID, onFCP, onLCP, onTTFB } from 'web-vitals';

function sendToAnalytics(metric) {
  // Google Analytics ë˜ëŠ” ë‹¤ë¥¸ ë¶„ì„ ë„êµ¬ë¡œ ì „ì†¡
  gtag('event', metric.name, {
    value: Math.round(metric.value),
    metric_id: metric.id,
    metric_delta: metric.delta,
  });
}

// Core Web Vitals ì¸¡ì •
onCLS(sendToAnalytics);
onFID(sendToAnalytics);
onFCP(sendToAnalytics);
onLCP(sendToAnalytics);
onTTFB(sendToAnalytics);
```

#### ì‹¤ì‹œê°„ ì—ëŸ¬ ì¶”ì  (Sentry)
```javascript
// utils/errorTracking.js
import * as Sentry from "@sentry/react";
import { Integrations } from "@sentry/tracing";

Sentry.init({
  dsn: import.meta.env.VITE_SENTRY_DSN,
  integrations: [
    new Integrations.BrowserTracing(),
  ],
  tracesSampleRate: 0.1,
  environment: import.meta.env.VITE_APP_ENV,

  beforeSend(event) {
    // ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì—ëŸ¬ë¥¼ ë¡œì»¬ì—ì„œë§Œ í™•ì¸
    if (import.meta.env.VITE_APP_ENV === 'development') {
      console.error(event);
      return null;
    }
    return event;
  }
});

// ì—ëŸ¬ ë°”ìš´ë”ë¦¬ì™€ í†µí•©
export const SentryErrorBoundary = Sentry.withErrorBoundary(App, {
  fallback: ({ error, resetError }) => (
    <ErrorFallback error={error} resetError={resetError} />
  )
});
```

---

## ğŸ”§ ê°œë°œ ë„êµ¬ ë° ì›Œí¬í”Œë¡œìš°

### ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬

#### ESLint ì„¤ì • ìƒì„¸
```javascript
// .eslintrc.js
module.exports = {
  root: true,
  env: {
    browser: true,
    es2020: true,
    node: true
  },
  extends: [
    'eslint:recommended',
    '@typescript-eslint/recommended',
    'plugin:react/recommended',
    'plugin:react-hooks/recommended',
    'plugin:jsx-a11y/recommended'
  ],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaVersion: 'latest',
    sourceType: 'module',
    ecmaFeatures: {
      jsx: true
    }
  },
  plugins: [
    'react',
    'react-hooks',
    'jsx-a11y',
    '@typescript-eslint'
  ],
  rules: {
    'react/react-in-jsx-scope': 'off',
    'react/prop-types': 'off',
    'react-hooks/rules-of-hooks': 'error',
    'react-hooks/exhaustive-deps': 'warn',
    'jsx-a11y/anchor-is-valid': 'warn',
    '@typescript-eslint/no-unused-vars': 'error',
    'no-console': process.env.NODE_ENV === 'production' ? 'error' : 'warn'
  }
};
```

#### Prettier ë° Husky í†µí•©
```json
// .prettierrc
{
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "semi": true,
  "singleQuote": true,
  "quoteProps": "as-needed",
  "trailingComma": "es5",
  "bracketSpacing": true,
  "arrowParens": "avoid"
}
```

```javascript
// .husky/pre-commit
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npm run lint
npm run type-check
npm test -- --watchAll=false
```

### ê°œë°œ í™˜ê²½ ìµœì í™”

#### VS Code ì„¤ì •
```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.preferences.importModuleSpecifier": "relative",
  "emmet.includeLanguages": {
    "javascript": "javascriptreact"
  }
}
```

---

## ğŸ”® í™•ì¥ì„± ë° ë¯¸ë˜ ê³ ë ¤ì‚¬í•­

### ë§ˆì´í¬ë¡œí”„ë¡ íŠ¸ì—”ë“œ ì¤€ë¹„

#### Module Federation ì¤€ë¹„
```javascript
// webpack.config.js (í–¥í›„ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ)
const ModuleFederationPlugin = require('@module-federation/webpack');

module.exports = {
  plugins: [
    new ModuleFederationPlugin({
      name: 'template_generator',
      filename: 'remoteEntry.js',
      exposes: {
        './ChatInterface': './src/components/generator/ChatInterface',
        './TemplatePreview': './src/components/generator/TemplatePreview'
      },
      shared: {
        react: { singleton: true },
        'react-dom': { singleton: true }
      }
    })
  ]
};
```

### PWA ì „í™˜ ì¤€ë¹„

#### Service Worker ê¸°ë°˜ êµ¬ì¡°
```javascript
// sw.js (í–¥í›„ PWA ì „í™˜ ì‹œ)
const CACHE_NAME = 'template-generator-v1';
const urlsToCache = [
  '/',
  '/static/js/bundle.js',
  '/static/css/main.css',
  '/manifest.json'
];

self.addEventListener('install', event => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(urlsToCache))
  );
});

self.addEventListener('fetch', event => {
  event.respondWith(
    caches.match(event.request)
      .then(response => {
        // ìºì‹œëœ ë²„ì „ ë°˜í™˜ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ì—ì„œ ê°€ì ¸ì˜¤ê¸°
        return response || fetch(event.request);
      })
  );
});
```

---

## ğŸ“ˆ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ë° ë©”íŠ¸ë¦­

### í˜„ì¬ ì„±ëŠ¥ ì§€í‘œ

| ë©”íŠ¸ë¦­ | í˜„ì¬ ê°’ | ëª©í‘œ ê°’ | ìƒíƒœ |
|--------|---------|---------|------|
| **First Contentful Paint (FCP)** | 1.2s | < 1.8s | âœ… ìš°ìˆ˜ |
| **Largest Contentful Paint (LCP)** | 2.1s | < 2.5s | âœ… ìš°ìˆ˜ |
| **Cumulative Layout Shift (CLS)** | 0.05 | < 0.1 | âœ… ìš°ìˆ˜ |
| **First Input Delay (FID)** | 45ms | < 100ms | âœ… ìš°ìˆ˜ |
| **Total Blocking Time (TBT)** | 150ms | < 300ms | âœ… ìš°ìˆ˜ |

### ë²ˆë“¤ ì‚¬ì´ì¦ˆ ë¶„ì„

```bash
# ë²ˆë“¤ ë¶„ì„ ê²°ê³¼
JavaScript Bundles:
â”œâ”€â”€ main.chunk.js     (45.2 KB gzipped)
â”œâ”€â”€ vendor.chunk.js   (128.7 KB gzipped)
â”œâ”€â”€ router.chunk.js   (8.3 KB gzipped)
â””â”€â”€ ui.chunk.js       (15.6 KB gzipped)

CSS Bundles:
â””â”€â”€ main.css          (12.4 KB gzipped)

Total Initial Bundle: 210.2 KB gzipped
```

---

## ğŸ¯ ì•„í‚¤í…ì²˜ ì„¤ê³„ ì² í•™ê³¼ ì›ì¹™

### 1. ì ì§„ì  ê°œì„  (Progressive Enhancement)
- **ê¸°ë³¸ ê¸°ëŠ¥ ìš°ì„ **: í•µì‹¬ ê¸°ëŠ¥ì´ ëª¨ë“  í™˜ê²½ì—ì„œ ì‘ë™
- **í–¥ìƒëœ ê²½í—˜**: ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œ ì¶”ê°€ ê¸°ëŠ¥ ì œê³µ
- **ìš°ì•„í•œ ì €í•˜**: ê¸°ëŠ¥ ë¯¸ì§€ì› ì‹œ ëŒ€ì²´ ë°©ì•ˆ ì œê³µ

### 2. ì„±ëŠ¥ ìš°ì„  ì„¤ê³„
- **Critical Rendering Path ìµœì í™”**: ì´ˆê¸° ë¡œë”© ì‹œê°„ ìµœì†Œí™”
- **Lazy Loading**: í•„ìš”í•œ ì‹œì ì—ë§Œ ë¦¬ì†ŒìŠ¤ ë¡œë“œ
- **Bundle Splitting**: ì‚¬ìš©ìê°€ ì‹¤ì œ í•„ìš”í•œ ì½”ë“œë§Œ ë‹¤ìš´ë¡œë“œ

### 3. ê°œë°œì ê²½í—˜ (DX) ìµœì í™”
- **Hot Module Replacement**: ì¦‰ê°ì ì¸ ê°œë°œ í”¼ë“œë°±
- **TypeScript í†µí•©**: ì»´íŒŒì¼ íƒ€ì„ ì˜¤ë¥˜ ê°ì§€
- **ìë™í™”ëœ í’ˆì§ˆ ê²€ì‚¬**: ì¼ê´€ëœ ì½”ë“œ í’ˆì§ˆ ìœ ì§€

### 4. í™•ì¥ì„± ê³ ë ¤
- **ëª¨ë“ˆëŸ¬ ì•„í‚¤í…ì²˜**: ê¸°ëŠ¥ë³„ ë…ë¦½ì  ê°œë°œ ê°€ëŠ¥
- **API ìš°ì„  ì„¤ê³„**: ë°±ì—”ë“œì™€ì˜ ëŠìŠ¨í•œ ê²°í•©
- **ìƒíƒœ ê´€ë¦¬ í™•ì¥ì„±**: ë³µì¡í•œ ìƒíƒœ ë¡œì§ ì¶”ê°€ ìš©ì´

---

## ğŸš€ ê²°ë¡ : í˜„ëŒ€ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜

ì´ ì•„í‚¤í…ì²˜ëŠ” **20ë…„ì°¨ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì˜ ê²½í—˜ê³¼ ìµœì‹  ì›¹ ê¸°ìˆ ì˜ ëª¨ë²” ì‚¬ë¡€**ë¥¼ ê²°í•©í•˜ì—¬ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¨ìˆœí•œ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„˜ì–´ì„œ **ì¥ê¸°ì ì¸ ìœ ì§€ë³´ìˆ˜ì„±, í™•ì¥ì„±, ê·¸ë¦¬ê³  ê°œë°œíŒ€ì˜ ìƒì‚°ì„±**ì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í–ˆìŠµë‹ˆë‹¤.

### í•µì‹¬ ì•„í‚¤í…ì²˜ ê°•ì 

1. **ëª¨ë˜ ê¸°ìˆ  ìŠ¤íƒ**: React 19, Vite, TypeScript ë“± ê²€ì¦ëœ ìµœì‹  ê¸°ìˆ 
2. **ì„±ëŠ¥ ìµœì í™”**: Core Web Vitals ê¸°ì¤€ ìš°ìˆ˜ ë“±ê¸‰ ë‹¬ì„±
3. **í™•ì¥ì„±**: ë§ˆì´í¬ë¡œí”„ë¡ íŠ¸ì—”ë“œ, PWA ì „í™˜ ì¤€ë¹„ ì™„ë£Œ
4. **ê°œë°œ íš¨ìœ¨ì„±**: ìë™í™”ëœ ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬ ë° ë°°í¬ íŒŒì´í”„ë¼ì¸
5. **ì‚¬ìš©ì ê²½í—˜**: ì§ê´€ì ì´ê³  ë°˜ì‘ì„± ìˆëŠ” ì¸í„°í˜ì´ìŠ¤

ì´ ì•„í‚¤í…ì²˜ëŠ” í˜„ì¬ì˜ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ë©´ì„œë„ **ë¯¸ë˜ì˜ ê¸°ìˆ  ë³€í™”ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ í™•ì¥ì— ìœ ì—°í•˜ê²Œ ëŒ€ì‘**í•  ìˆ˜ ìˆëŠ” ê²¬ê³ í•œ ê¸°ë°˜ì„ ì œê³µí•©ë‹ˆë‹¤.